---
- name: Ensure target OS is Ubuntu 22.04
  ansible.builtin.assert:
    that:
      - ansible_facts.distribution == "Ubuntu"
      - ansible_facts.distribution_version is version("22.04", "==")
    fail_msg: "This role supports Ubuntu 22.04 only."

- name: Validate required variables
  ansible.builtin.assert:
    that:
      - eclipse_user is string
      - eclipse_user | length > 0
      - eclipse_user_home is string
      - eclipse_user_home | length > 0
      - eclipse_install_dir is string
      - eclipse_install_dir | length > 0
      - eclipse_tarball_url is string
      - eclipse_tarball_url | length > 0
    fail_msg: "Invalid configuration for eclipse_ide_ubuntu2204 role."
